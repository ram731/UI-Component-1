<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>external documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">external documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>AdditionalPutCallDetails</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>external/src/static/app/core/base-component/basecontroller.component.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>AdditionalGetCallDetails is an interface for input fields required while making additional PUt call from controller.</p>

            </p>


        <section>
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#errorcallBack">errorcallBack</a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#putObject">putObject</a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#serviceURL">serviceURL</a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#serviceURLWithoutcontextPath">serviceURLWithoutcontextPath</a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#successcallBack">successcallBack</a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#urlParams">urlParams</a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#urlQueryParams">urlQueryParams</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="errorcallBack"></a>
                                        <span class="name"><b>errorcallBack</b><a href="#errorcallBack"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>errorcallBack:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" >Function</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" >Function</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>It holds the refence for call back function to be executed after GET call result in error.</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="putObject"></a>
                                        <span class="name"><b>putObject</b><a href="#putObject"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>putObject:         <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>It holds the refence for an Object to be sent over PUT call.</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="serviceURL"></a>
                                        <span class="name"><b>serviceURL</b><a href="#serviceURL"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>serviceURL:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Full service URL.</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="serviceURLWithoutcontextPath"></a>
                                        <span class="name"><b>serviceURLWithoutcontextPath</b><a href="#serviceURLWithoutcontextPath"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>serviceURLWithoutcontextPath:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Service URL without context path.</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="successcallBack"></a>
                                        <span class="name"><b>successcallBack</b><a href="#successcallBack"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>successcallBack:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" >Function</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" >Function</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>It holds the refence for call back function to be executed after GET call is succeeded.</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="urlParams"></a>
                                        <span class="name"><b>urlParams</b><a href="#urlParams"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>urlParams:     <code>string[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string[]</code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Parameters to be appended at end of URL.</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="urlQueryParams"></a>
                                        <span class="name"><b>urlQueryParams</b><a href="#urlQueryParams"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>urlQueryParams:     <code>Map&lt;string | string&gt;</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>Map&lt;string | string&gt;</code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Parameters to be appended at as query param in URL.</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { OnInit, Directive } from &#x27;@angular/core&#x27;;
import { ActivatedRoute, Params } from &#x27;@angular/router&#x27;;
import * as _ from &#x27;lodash&#x27;;
import { FormBuilder, FormGroup } from &#x27;@angular/forms&#x27;;
import { Utils } from &#x27;../../shared/Utils&#x27;;
import { AppService } from &#x27;../../service/app.service&#x27;;
import { MyDeqErrorHandler } from &#x27;../errorHandler&#x27;;
import { BaseComponent } from &#x27;./basecomponent.component&#x27;;
import { PageTextGetter } from &#x27;../content/pagetext-getter.component&#x27;;
import { PageConentService } from &#x27;../content/content-service.component&#x27;;

/**
 * AdditionalGetCallDetails is an interface for input fields required while making additional GET call from controller.
 */
interface AdditionalGetCallDetails {
    /**
     * Full service URL.&amp;nbsp;
     *
     * @example 
     *https://mydevtc.azdeq.gov/mydeq-opcert/service/newoperator/whatsneeded
     */
    serviceURL?: string,

    /**
     * Service URL without context path.
     *
     * @example 
     *service/newoperator/whatsneeded
     */
    serviceURLWithoutcontextPath?: string,
    /**
     * Parameters to be appended at end of URL.
     *
     * @example 
     *[12453,73533] &#x3D;&gt; https://mydevtc.azdeq.gov/mydeq-opcert/service/newoperator/whatsneeded/12453/73533
     */
    urlParams?: string[],

    /**
     * Parameters to be appended at as query param in URL.
     * 
     * @example
     * &#x60;&#x60; &#x60;
     * Map{&#x27;globalReqId&#x27;:&#x27;342&#x27;,&#x27;appId&#x27;:&#x27;887&#x27;} &#x3D;&amp;gt; https://mydevtc.azdeq.gov/mydeq-opcert/service/newoperator/whatsneeded?globalReqId&#x3D;342&amp;appId&#x3D;887
     * &#x60;&#x60; &#x60;
     */
    urlQueryParams?: Map&lt;string, string&gt;,

    /**
     * It holds the refence for call back function to be executed after GET call is succeeded.
     */
    successcallBack?: Function,

    /**
     * It holds the refence for call back function to be executed after GET call result in error.
     */
    errorcallBack?: Function
}

/**
 * AdditionalGetCallDetails is an interface for input fields required while making additional PUt call from controller.
 */
interface AdditionalPutCallDetails {
    /**
     * Full service URL.
     * 
     * @example
     * https://mydevtc.azdeq.gov/mydeq-opcert/service/newoperator/whatsneeded
     */
    serviceURL?: string,
    /**
     * Service URL without context path.
     * 
     * @example
     * service/newoperator/whatsneeded
     */
    serviceURLWithoutcontextPath?: string,
    /**
     * Parameters to be appended at end of URL.
     * 
     * @example
     * [12453,73533] &#x3D;&gt; https://mydevtc.azdeq.gov/mydeq-opcert/service/newoperator/whatsneeded/12453/73533
     */
    urlParams?: string[],
    
    /**
     * It holds the refence for an Object to be sent over PUT call.
     */
    putObject?: any,

     /**
     * Parameters to be appended at as query param in URL.
     * 
     * @example
     * Map{&#x27;globalReqId&#x27;:&#x27;342&#x27;,&#x27;appId&#x27;:&#x27;887&#x27;} &#x3D;&gt; https://mydevtc.azdeq.gov/mydeq-opcert/service/newoperator/whatsneeded?globalReqId&#x3D;342&amp;appId&#x3D;887
     */
    urlQueryParams?: Map&lt;string, string&gt;,
    /**
     * It holds the refence for call back function to be executed after GET call is succeeded.
     */
    successcallBack?: Function,
    
    /**
     * It holds the refence for call back function to be executed after GET call result in error.
     */
    errorcallBack?: Function
}
/**
 * The BaseController is an abstract class which needs to be extended for creating new page.
 * 
 * It has default implementation to make GET service call on page load and PUT/POST service call on page continue.
 * 
 * 
 * @example
 * export class MyNewPageController extends BaseController
 * {
 * 
 * }
 */
@Directive()
export abstract class BaseController  extends BaseComponent implements OnInit {

    /**
     * Holds the refence for page text object.
     */
    pageText: any &#x3D; {};
    /**
     * Holds the refence for the GET service response.
     */
    model: any &#x3D; {};
    /**
     * It consist of error fields list (if any) after POST/PUT service call.
     */
    errorFields: any &#x3D; [];

    /**
     * It consist of error list after service call.
     */
    errorsList: any &#x3D; [];

    /**
     * A referance of FORM used for creating a page.
     */
    pageForm: FormGroup;

    /**
     * GET service call name.Same service name is used during PUT/POST service call.
     */
    private pageLoadServiceName: string &#x3D; null;

    /**
     * Flag indicate if GET serive call to be made on page load.
     */
    protected noGetCallOnLoad: boolean &#x3D; false;
    /**
     * Flag indicate if SAVE &amp; CONTINUE button to be enanled or disabled
     */
    enableContinue: boolean &#x3D; true;

    /**
     * Flag to represent if approvedit operation is performed.
     */
    approveEditIndicator: string &#x3D; &#x27;N&#x27;;

    /**
     * Holds the value for page review flags.
     */
    pageStatusDetail:any&#x3D;{
        isPageRejected:false,
        isPageApproved:false,
        isPageApproveEdit:false
    }
    

    /**
     * Creates an instance of contorller, associate pagetext &amp; create a form instance.
     */
    constructor(protected activatedRoute: ActivatedRoute,
        protected formBuilder: FormBuilder,
        protected utils: Utils,
        protected appService: AppService,
        protected errorHandler: MyDeqErrorHandler,
        protected _pageTextComp?: PageTextGetter) {
        super();
        if(_pageTextComp){
            PageConentService.getInstance().registerBasePageContent(this, _pageTextComp);
           }
        this.pageForm &#x3D; this.createForm();       
    }

    /**
     * Sets the service name to be used for GET and PUT/POST service call.
     *
     * @example 
     *setPageLoadServiceName(&#x27;whats_needed&#x27;)
     * 
     * @param serviceName
     *
     */
    setPageLoadServiceName(serviceName: string) {
        this.pageLoadServiceName &#x3D; serviceName;
    }

    /**
     * Returns service name to be used for GET and PUT/POST service call.
     * @returns pageLoadServiceName
     */
    getPageLoadServiceName() {
        return this.pageLoadServiceName;
    }

    /**
     * This method is called within ngOnInit() before making GET service call.
     * 
     * It makes &#x27;urlParams&#x27; available to perform any operation intended to be perfom before making GET call.
     * 
     * @example
     * ngOnInitPrerequisit(urlParams: Params &#x3D;null):void{
     *    console.log(&#x27;Input URL Params&#x27;,urlParams)
     * }
     * 
     * @param urlParams 
     */
    ngOnInitPrerequisit(urlParams: Params &#x3D;null):void{

    }

    /**
     * It perform following task on page load.
     * 
     * 1.Featch URL params.
     * 
     * 2.Call ngOnInitPrerequisit().
     * 
     * 3.Check for noGetCallOnLoad.
     * 
     * 4.Featch QUERY params.
     * 
     * 5.Call populateGetURLParams()
     * 
     * 6.Call populatePageLoadURLQueryParams()
     * 
     * 7.MAKE GET service call.
     * 
     * 8.If success assign service response to model,calculatePageStatus &amp; call onGetResponse().
     * 
     * 9.If error call handleError() &amp; onGettError()
     */
    ngOnInit() {
        
        this.activatedRoute.params.subscribe((urlParams: Params) &#x3D;&gt; {

            this.ngOnInitPrerequisit(urlParams);

            if(this.noGetCallOnLoad){
                return ;
            }

            this.activatedRoute.queryParams.subscribe((queryParams: Params) &#x3D;&gt; {

                this.appService.getServiceCall(this.populateGetURLParams(urlParams,queryParams), this.populatePageLoadURLQueryParams(),
                this.getPageLoadServiceName()).subscribe(
                    response &#x3D;&gt; {
                        this.model &#x3D; response;
                        this.pageStatusDetail&#x3D;this.calculatePageStatus(response);
                        this.onGetResponse(this.model);                        
                    },
                    error &#x3D;&gt; {
                        this.handleError(error);
                        this.onGettError(error);
                    });
            });
           
        });
    }

    /**
     * The calculatePageStatus calculates page level review status and return pageStatusDetail Object.
     * 
     * @example
     * calculatePageStatus(response) &#x3D;&gt; {isPageRejected:false, isPageApproved:true, isPageApproveEdit:false}
     * 
     * @param response 
     * @returns pageStatusDetail
     */
    private calculatePageStatus(response:any){

        let pageStatusDetail&#x3D;{
            isPageRejected:false,
            isPageApproved:false,
            isPageApproveEdit:false
        }
        
        if (response.reviewList &amp;&amp; response.reviewList.length &gt; 0 ){
            let revisionList &#x3D; _.filter(response.reviewList, function (n) {
                return n.currentInd &#x3D;&#x3D;&#x3D; &#x27;C&#x27;;
              });          

              if(revisionList &amp;&amp; revisionList.length &gt; 0 ){

                switch(revisionList[0].status){
                    case &#x27;A&#x27;:
                    pageStatusDetail.isPageApproved&#x3D;true;
                        break;
                    case &#x27;AE&#x27;:
                    pageStatusDetail.isPageApproveEdit&#x3D;true;
                        break;
                    case &#x27;R&#x27;:
                    pageStatusDetail.isPageRejected&#x3D;true;
                        break;
                }
              }
        }      
        
        return pageStatusDetail
     }

    /**
     * This method to be used for making additional GET serive call apart from page load GET call.
     * 
     * @example     * 
     * additionalGetCall({
     *  serviceURL: &#x27;getOutfallList&#x27;,
     *  urlParams:[198,522],
     *  successcallBack:(response)&#x3D;&gt; {
     *  this.calculateImpairedOutfallList(formData,navigateToNextPage)
     *  },
     * errorcallBack:(error)&#x3D;&gt; {
     * this.handleError(error);
     * this.onPutError(error);
     * }
     * })
     *      
     * 
     * @param getCallDetails
     */
    additionalGetCall(getCallDetails: AdditionalGetCallDetails) {
        if (getCallDetails) {
            this.appService.getServiceCall(getCallDetails.urlParams, getCallDetails.urlQueryParams, getCallDetails.serviceURL,
                getCallDetails.serviceURLWithoutcontextPath).subscribe(
                    response &#x3D;&gt; {
                        if (getCallDetails.successcallBack) {
                            getCallDetails.successcallBack(response);
                        }
                    },
                    error &#x3D;&gt; {
                        if (getCallDetails.errorcallBack) {
                            getCallDetails.errorcallBack(error);
                        }
                    });
        }
    }

    /**
     * This method submit page object(make PUT service call).
     * 
     * Following actions are performed while making PUT call
     * 
     * 1.Call createPutObject()
     * 
     * 2.Call populatePutURLParams().
     * 
     * 3.Call populatePutURLQueryParams().
     * 
     * 4.On success it checks if next page is &#x27;ALERT&#x27; and calls onAlertPutResponse().
     * 
     * 5.On success it checks if next page is &#x27;ALERT&#x27; and if NOT onSuccessPutResponse() is called and navigate to next page depending on navigateToNextPage value (true/false).
     * 
     * 6.In case of error handleError() and onPutError() is called.
     * 
     * @param formData
     * @param navigateToNextPage
     */
    pageContinue(formData: any,navigateToNextPage:boolean&#x3D;true) {
        this.appService.putServiceCall(this.createPutObject(formData), this.populatePutURLParams(null), this.populatePutURLQueryParams(), this.pageLoadServiceName).subscribe(
            response &#x3D;&gt; {
                if (response.next_page !&#x3D;&#x3D; &#x27;ALERT&#x27;) {
                    this.onSuccessPutResponse(response);
                    if(navigateToNextPage){
                        this.utils.navigateTo([this.correctPageName(response.next_page)], true,true);
                    }

                } else {
                    this.onAlertPutResponse(response);
                }
            },
            error &#x3D;&gt; {
                this.handleError(error);
                this.onPutError(error);
                window.scrollTo(0,0);
            });
    }

    /**
     * This method submit page object(make POST service call).
     * 
     * Following actions are performed while making PUT call
     * 
     * 1.Call createPostObject()
     * 
     * 2.Call populatePostURLParams().
     * 
     * 3.Call populatePostURLQueryParams().
     * 
     * 4.On success it checks if next page is &#x27;ALERT&#x27; and calls onAlertPostResponse().
     * 
     * 5.On success it checks if next page is &#x27;ALERT&#x27; and if NOT onSuccessPostResponse() is called and navigate to next page depending on navigateToNextPage value (true/false).
     * 
     * 6.In case of error handleError() and onPostError() is called.
     * 
     * @param formData
     * @param navigateToNextPage
     */
    postPageContinue(formData: any,navigateToNextPage:boolean&#x3D;true) {
        this.appService.postServiceCall(this.createPostObject(formData), this.populatePostURLParams(null), this.populatePostURLQueryParams(), this.pageLoadServiceName).subscribe(
            response &#x3D;&gt; {
                if (response.next_page !&#x3D;&#x3D; &#x27;ALERT&#x27;) {
                    this.onSuccessPostResponse(response);
                    if(navigateToNextPage){
                        this.utils.navigateTo([this.correctPageName(response.next_page)], true,true);
                    }                    

                } else {
                    this.onAlertPostResponse(response);
                }
            },
            error &#x3D;&gt; {
                this.handleError(error);
                this.onPostError(error);
                window.scrollTo(0,0);
            });
    }

    /**
     * This method to be used for making additional PUT serive call apart from page PUT call.
     * 
     * @example
     * additionalPutCall({
    *  serviceURL: &#x27;validateoperatorinfo&#x27;,
    *  putObject: formData,
    *  successcallBack:(response)&#x3D;&gt;{
    *  this.finalPageContinue(formData,navigateToNextPage)
    *  },
    * errorcallBack:(error)&#x3D;&gt; {
    * this.handleError(error);
    * this.onPutError(error);
    * }
    * })
    * 
    * @param getCallDetails
    */
    additionalPutCall(additionalPutCallDetails: AdditionalPutCallDetails) {
        if (additionalPutCallDetails) {

            this.appService.putServiceCall(additionalPutCallDetails.putObject,
                additionalPutCallDetails.urlParams, additionalPutCallDetails.urlQueryParams,
                additionalPutCallDetails.serviceURL, additionalPutCallDetails.serviceURLWithoutcontextPath)
                .subscribe(
                    response &#x3D;&gt; {
                        additionalPutCallDetails.successcallBack(response);
                    },
                    error &#x3D;&gt; {
                        additionalPutCallDetails.errorcallBack(error);
                    });
        }
    }

    /**
     * This method submit individual section on page (make PUT service call).
     * 
     * Following actions are performed while making PUT call
     * 
     * 1.Call createSectionPutObject().
     * 
     * 2.On success it checks if next page is &#x27;ALERT&#x27; and calls onSectionAlertPutResponse().
     * 
     * 3.On success it checks if next page is &#x27;ALERT&#x27; and if NOT onSectionSuccessPutResponse() is called.
     * 
     * 4.In case of error handleError() and onSectionError() is called.
     * 
     * @param sectionData
     * @param index
     */
    sectionPut(sectionData: any, index: number) {

        this.appService.saveIndividualServiceCall(this.createSectionPutObject(sectionData[index]), this.pageLoadServiceName).subscribe(
            response &#x3D;&gt; {
                if (response.next_page !&#x3D;&#x3D; &#x27;ALERT&#x27;) {
                    this.onSectionSuccessPutResponse(response, index);
                } else {
                    this.onSectionAlertPutResponse(response, index);
                }
            },
            error &#x3D;&gt; {
                this.handleError(error);
                this.onSectionError(error, index);
            });
    }

     /**
     * This method UPDATES individual section on page (make PUT service call).
     * 
     * Following actions are performed while making PUT call
     * 
     * 1.Call createSectionPutObject().
     * 
     * 2.On success it checks if next page is &#x27;ALERT&#x27; and calls onSectionAlertUpdateResponse().
     * 
     * 3.On success it checks if next page is &#x27;ALERT&#x27; and if NOT onSectionSuccessUpdateResponse() is called.
     * 
     * 4.In case of error handleError() and onSectionError() is called.
     * 
     * @param sectionData
     * @param index
     */
    sectionUpdate(sectionData: any, index: number) {

        this.appService.updateIndividualServiceCall(this.createSectionPutObject(sectionData[index]), this.pageLoadServiceName).subscribe(
            response &#x3D;&gt; {
                if (response.next_page !&#x3D;&#x3D; &#x27;ALERT&#x27;) {
                    this.onSectionSuccessUpdateResponse(response, index);
                } else {
                    this.onSectionAlertUpdateResponse(response, index);
                }
            },
            error &#x3D;&gt; {
                this.errorFields &#x3D; this.errorHandler.getErrorFields(error);
                this.errorsList &#x3D; this.errorHandler.getErrors(error);
                this.onSectionError(error, index);
            });
    }

     /**
     * This method DELETES individual section on page (make DELETE service call).
     * 
     * Following actions are performed while making PUT call
     * 
     * 1.sectionId is used for service call.
     * 
     * 2.On success it checks if next page is &#x27;ALERT&#x27; and calls onSectionAlertDeleteResponse().
     * 
     * 3.On success it checks if next page is &#x27;ALERT&#x27; and if NOT onSectionSuccessDeleteResponse() is called.
     * 
     * 4.In case of error handleError() and onSectionError() is called.
     * 
     * @param sectionId
     * @param index
     */
    sectionDelete(sectionId: any, index: number) {
        this.appService.deleteIndividualServiceCall(sectionId, this.pageLoadServiceName).subscribe(
            response &#x3D;&gt; {
                if (response.next_page !&#x3D;&#x3D; &#x27;ALERT&#x27;) {
                    this.onSectionSuccessDeleteResponse(response, index);
                } else {
                    this.onSectionAlertDeleteResponse(response, index);
                }
            },
            error &#x3D;&gt; {
                this.handleError(error);
                this.onSectionError(error, index);
            });
    }

    /**
     * This method is called after get service call is succesfull.
     * 
     * @param getResponse
     */
    abstract onGetResponse(getResponse: any): void;

    /**
     *  This method creates a Page level form.
     */
    abstract createForm(): FormGroup;

    /**
    * This method is invoked before PUT service call. It returns an object generated using input formDate.
    * 
    * Default: It return formData.
    * 
    * @param formDate
    * @returns putObject
    */
    createPutObject(formDate: any): any {
        return formDate;
    }

    /**
    * This method is invoked before POST service call. It returns an object generated using input formDate.
    * 
    * Default: It return formData.
    * 
    * @param formDate
    * @returns postObject
    */
   createPostObject(formDate: any): FormData {
        return formDate;
    }

    /**
     * This method creates a section level object to be posted to service.
     * 
     * Default: It return null.
     * 
     * @param formDate
     * @returns postObject
     */
    protected createSectionPutObject(formDate: any): any {
        return null;
    }

    /**
     * This method pupulate get url param array.
     * 
     * Default: It return null.
     * 
     * @param urlParams
     * @param queryParams
     * @returns []
     */
    populateGetURLParams(urlParams: Params,queryParams: Params): any[] {
        return null;
    }

    /**
    * This method returns Query param Map for page load GET call.
    * 
    * Default: It return null.
    * 
    * @returns queryParamMAP
    */
    populatePageLoadURLQueryParams(): Map&lt;string, string&gt; {
        return null;
    }

    /**
     * This method returns an array of parameters for PUT.
     * 
     * Default: It return null.
     * 
     * @param inputObj
     * @returns queryparam[]
     */
    populatePutURLParams(inputObj: any): any[] {
        return null;
    }

    /**
     * This method returns an array of parameters for POST.
     * 
     * Default: It return null.
     * 
     * @param inputObj
     * @returns queryparam[]
     */
    populatePostURLParams(inputObj: any): any[] {
        return null;
    }

    /**
    * This method returns Query param Map for PUT.
    * 
    * Default: It return null.
    * 
    * @returns queryParamMAP
    */
    populatePutURLQueryParams(inputObj: any &#x3D; null): Map&lt;string, string&gt; {
        return null;
    }

    /**
    * This method returns Query param Map for POST.
    * 
    * Default: It return null.
    * 
    * @returns queryParamMAP
    */
    populatePostURLQueryParams(inputObj: any &#x3D; null): Map&lt;string, string&gt; {
        return null;
    }

    /**
     *  This method is called on page level put success.
     *  Default: return.
     * 
     * @param response - service response
     * 
     */
    onSuccessPutResponse(response: any): any {
        return;
    }

    /**
     * This method is called on page level PUT success.
     * 
     * Default: return.
     * 
     * @param response - service response
     */
    onSuccessPostResponse(response: any): any {
        return;
    }

    /**
    * This method is called on section level PUT success.
    * 
    * Default: return.
    * 
    * @param response - service response.
    * @param index - section index.
    */
    onSectionSuccessPutResponse(response: any, index: number): any {
        return;
    }

    /**
    *  This method is called on section level update success.
    * Default: return.
    * 
    * @param response - service response.
    * @param index - section index.
    */
    onSectionSuccessUpdateResponse(response: any, index: number): any {
        return;
    }

    /**
    * This method is called on section level delete success.
    * 
    * Default: return.
    * 
    * @param response - service response.
    * @param index - section index.
    */
    onSectionSuccessDeleteResponse(response: any, index: number): any {
        return;
    }

    /**
    * This method is called on page level PUT and next page is ALERT.
    * 
    * Default: return.
    * 
    * @param response - service response.    
    */
    onAlertPutResponse(response: any): any {
        return;
    }

    /**
    *  This method is called on page level POST and next page is ALERT.
    * 
    * Default: return.
    * 
    * @param response - service response.    
    */
    onAlertPostResponse(response: any): any {
        return;
    }

    /**
     * This method is called on section level PUT and next page is ALERT.
     * 
     * Default: return.
     * 
     * @param response - service response.
     * @param index - section index.
     */
    onSectionAlertPutResponse(response: any, index: number): any {
        return;
    }

    /**
     *  This method is called on section level UPDATE and next page is ALERT.
     * 
     * Default: return.
     * 
     * @param response - service response.
     * @param index - section index.
     */
    onSectionAlertUpdateResponse(response: any, index: number): any {
        return;
    }

    /**
     * This method is called on section level DELETE and next page is ALERT.
     * 
     * Default: return.
     * 
     * @param response - service response.
     * @param index - section index.
     */
    onSectionAlertDeleteResponse(response: any, index: number): any {
        return;
    }

    /**
    * This method is called on page level GET service have error.
    * 
    * Default: return.
    * 
    * @param errorObj - error object from GET service.
    */
    onGettError(errorObj: any): void {
        return;
    }

    /**
    * This method is called on page level PUT service have error.
    * 
    * Default: return.
    * 
    * @param errorObj - error object from PUT service.
    */
    onPutError(errorObj: any): void {
        return;
    }

    /**
    * This method is called on page level POST service have error.
    * 
    * Default: return.
    * 
    * @param errorObj - error object from POST service.
    */
    onPostError(errorObj: any): void {
        return;
    }

    /**
    * This method is called on section level PUT service have error.
    * 
    * Default: return.
    * 
    * @param errorObj - error object from section level PUT service.
    * @index index - section index.
    */
    onSectionError(errorObj: any, index: number): void {
        return;
    }

    /**
     * This method to be implemented under each page controller having Page Review.
     * 
     * @example
     * public performActionOnEdit() {
     *   pageForm.enable(true);
     *  }
     * 
     */
    public performActionOnEdit() {
        throw new Error(&#x27;Method not implemented.&#x27;);
    }

    /**
     * This method to be implemented under each page controller having Page Review.
     * 
     * @params errObj -approveEdit service error object.
     * 
     * @example
     * public performActionOnEditError(errObj: any) {
     *   this.logger.error(&#x27;Error while performing Page Edit&#x27;);
     * }
     * 
     */
    public performActionOnEditError(errObj: any) {
        throw new Error(&#x27;Method not implemented.&#x27;);
    }


    /**
     * This method naviagte to previous page depending on &#x27;previous_page&#x27; value.
     */
    public goBack() {
        this.utils.navigateTo([this.correctPageName(this.model.previous_page)], true,true);
    }


    /**
     * This method is called from AppComponent when user clicks on EDIT link during revision path.
     * 
     * It performs floowing task.
     * 
     * 1.Calls createUpdateSectionPutObject().
     * 
     * 2.Make PUT service call with service name as &#x27;updatePageStatus&#x27;.
     * 
     * 3.On success it calls updateEditIndicator().
     * 
     * 4.In case of error it calls performActionOnEditError().
     */
    public approveEdit() {
        //const tmpArr &#x3D; this.utils.pageURL.split(&#x27;/&#x27;);
        this.appService.putServiceCall(this.createUpdateSectionPutObject(), [this.pageLoadServiceName], null, &#x27;updatePageStatus&#x27;).subscribe(
            response &#x3D;&gt; {
                this.updateEditIndicator();
            },
            error &#x3D;&gt; {
                this.performActionOnEditError(error);
            });
    }

    /**
     * It updates approveEditIndicator to &#x27;Y&#x27; and calls performActionOnEdit().
     */
    private updateEditIndicator() {
        this.approveEditIndicator &#x3D; &#x27;Y&#x27;;
        this.performActionOnEdit();
    }

    /**
     * This method checks for Approve Edit indicator: AE OR AREQ and calls updateEditIndicator().
     * 
     * @param response -service response
     */
    /* public isApprovedEdit(response: any) {

        if (response.reviewList &amp;&amp; response.reviewList.length &gt; 0) {
            if (response.reviewList[0].status &#x3D;&#x3D;&#x3D; &#x27;AE&#x27; || response.reviewList[0].status &#x3D;&#x3D;&#x3D; &#x27;AREQ&#x27;) {
                this.updateEditIndicator();
            }
        }
    } */
    public isApprovedEdit(response: any) {

        if (response.reviewList &amp;&amp; response.reviewList.length &gt; 0) {
            if (this.utils.getStatusDetails(response.reviewList[0].status).desc &#x3D;&#x3D;&#x3D; &#x27;REJECT&#x27;) {
                this.updateEditIndicator();
            }
        }
    }

    /**
     * It assignes page review from utils to current page instance.
     * 
     * @param obj - current page instance
     */
    public setPageReview(obj: any) {
        obj.reviewComments &#x3D; this.utils.reviewComments;
    }

    /**
     * This method parse input error object and populate &#x27;errorFields&#x27; &amp; &#x27;errorsList&#x27; array.
     * 
     * @param error -service error object
     */
    handleError(error: any) {
        this.errorFields &#x3D; this.errorHandler.getErrorFields(error);
        this.errorsList &#x3D; this.errorHandler.getErrors(error);
    }

    /**
     * This method clears &#x27;errorFields&#x27; &amp; &#x27;errorsList&#x27; array.
     */
    public clearError(){
        this.errorFields &#x3D; [];
        this.errorsList &#x3D; [];
    }

    /**
     * This method corrects the input page name by converting it to lower case and replacing &#x27;_&#x27; with &#x27;-&#x27;
     * 
     * @example
     * correctPageName(&#x27;WHATS_NEEDED&#x27;) &#x3D;&gt; whats-needed
     * 
     * @param servicePageName - page name returned by service
     * @returns corrected pageName
     */
    private correctPageName(servicePageName:string){
        return servicePageName.toLowerCase().replace(/_/g, &#x27;-&#x27;);
    }
    
    /**
     * This method creates returns empty Object.
     * 
     * @returns empty object {}
     */
    createUpdateSectionPutObject (): any {
        return {};
    }
}
</code></pre>
    </div>
</div>


                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'AdditionalPutCallDetails.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
